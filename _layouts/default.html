<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <!-- Primary Meta Tags -->
  <title>{% if page.seo_title %}{{ page.seo_title }}{% elsif page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }} - {{ site.tagline }}{% endif %}</title>
  <meta name="title" content="{% if page.seo_title %}{{ page.seo_title }}{% elsif page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }} - {{ site.tagline }}{% endif %}">
  <meta name="description" content="{{ page.description | default: page.excerpt | default: site.description | strip_html | truncatewords: 30 }}">

  <!-- Canonical URL -->
  <link rel="canonical" href="{{ page.url | absolute_url }}">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="{% if page.layout == 'dish' %}article{% else %}website{% endif %}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:title" content="{% if page.seo_title %}{{ page.seo_title }}{% elsif page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
  <meta property="og:description" content="{{ page.description | default: site.description | strip_html | truncatewords: 30 }}">
  <meta property="og:image" content="{{ page.hero_image | default: '/assets/images/og-default.jpg' | absolute_url }}">
  <meta property="og:site_name" content="{{ site.title }}">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="{{ page.url | absolute_url }}">
  <meta name="twitter:title" content="{% if page.seo_title %}{{ page.seo_title }}{% elsif page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
  <meta name="twitter:description" content="{{ page.description | default: site.description | strip_html | truncatewords: 30 }}">
  <meta name="twitter:image" content="{{ page.hero_image | default: '/assets/images/og-default.jpg' | absolute_url }}">

  <!-- Favicons -->
  <link rel="icon" type="image/svg+xml" href="{{ '/assets/images/favicon.svg' | relative_url }}">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/apple-touch-icon.png' | relative_url }}">

  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Stylesheet -->
  <link rel="stylesheet" href="{{ '/assets/css/output.css' | relative_url }}">

  <!-- RSS Feed -->
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ '/feed.xml' | relative_url }}">

  <!-- Schema.org structured data -->
  {% include schema/organization.html %}
  {% if page.layout == 'dish' %}{% include schema/recipe.html %}{% endif %}
  {% if page.layout == 'quick-answer' %}{% include schema/faq.html %}{% endif %}
  {% include schema/breadcrumb.html %}
</head>
<body class="min-h-screen flex flex-col">
  <!-- Skip to main content (accessibility) -->
  <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-tomato-600 text-white px-4 py-2 rounded-lg z-50">
    Skip to main content
  </a>

  <!-- Header -->
  {% include header.html %}

  <!-- Main Content -->
  <main id="main-content" class="flex-1">
    {{ content }}
  </main>

  <!-- Footer -->
  {% include footer.html %}

  <!-- Mobile Navigation -->
  {% include mobile-nav.html %}

  <!-- JavaScript -->
  <script src="{{ '/assets/js/main.js' | relative_url }}" defer></script>
</body>
</html>
